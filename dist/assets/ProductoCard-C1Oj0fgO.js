import{V as Q,X as N,r as h,Y as $,H as z,h as B,i as F,l as H,j as e,s as V,m as O,n as _,T as y,Z as A,_ as X,f as I,B as C,b as T,d as v}from"./index-DS7J-bX6.js";import{u as Y}from"./useConfig-CN1-DwZd.js";import{D as Z,a as G,b as J,P as p}from"./DialogTitle-CN8NVrbV.js";import{T as w,P as K}from"./Phone-r1caIRjM.js";import{C as q,a as ee,b as te}from"./CardMedia-DE4nbTAj.js";import{D as se}from"./DialogActions-CqbzLWRL.js";function oe(s,r,n,a,t){const[o,c]=h.useState(()=>t&&n?n(s).matches:a?a(s).matches:r);return z(()=>{if(!n)return;const i=n(s),d=()=>{c(i.matches)};return d(),i.addEventListener("change",d),()=>{i.removeEventListener("change",d)}},[s,n]),o}const re={...$},M=re.useSyncExternalStore;function ne(s,r,n,a,t){const o=h.useCallback(()=>r,[r]),c=h.useMemo(()=>{if(t&&n)return()=>n(s).matches;if(a!==null){const{matches:l}=a(s);return()=>l}return o},[o,s,a,t,n]),[i,d]=h.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const l=n(s);return[()=>l.matches,u=>(l.addEventListener("change",u),()=>{l.removeEventListener("change",u)})]},[o,n,s]);return M(d,i,c)}function R(s={}){const{themeId:r}=s;return function(a,t={}){let o=Q();o&&r&&(o=o[r]||o);const c=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:d=c?window.matchMedia:null,ssrMatchMedia:m=null,noSsr:l=!1}=N({name:"MuiUseMediaQuery",props:t,theme:o});let u=typeof a=="function"?a(o):a;return u=u.replace(/^@media( ?)/m,""),(M!==void 0?ne:oe)(u,i,d,m,l)}}R();function ae(s){return B("MuiDialogContentText",s)}F("MuiDialogContentText",["root"]);const ie=s=>{const{classes:r}=s,a=_({root:["root"]},ae,r);return{...r,...a}},ce=V(y,{shouldForwardProp:s=>A(s)||s==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(s,r)=>r.root})({}),le=h.forwardRef(function(r,n){const a=H({props:r,name:"MuiDialogContentText"}),{children:t,className:o,...c}=a,i=ie(c);return e.jsx(ce,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:c,className:O(i.root,o),...a,classes:i})}),de=R({themeId:X}),ue=I(e.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),E=I(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),pe=({id:s,nombre:r,descripcion:n,precio:a,imagen:t})=>{var D;const{api:o}=Y(),c=de("(max-width:600px)"),[i,d]=h.useState(!1),[m,l]=h.useState(!1),[u,b]=h.useState(!1),[S,j]=h.useState(!1),L=()=>{o.tiendaNumber?window.location.href=`tel:${o.tiendaNumber}`:console.error("Número de teléfono no configurado")},P=()=>{d(!0)},k=()=>{navigator.clipboard.writeText(s),b(!0),setTimeout(()=>b(!1),1500)},U=()=>{const f=document.createElement("a");f.href=g,f.download=(t==null?void 0:t.split("/").pop())||"producto.jpg",document.body.appendChild(f),f.click(),document.body.removeChild(f)},W=(D=o.baseURL)==null?void 0:D.replace(/\/$/,"");let x="";t!=null&&t.startsWith("http")?x=t:t!=null&&t.startsWith("/media")?x=`/api2${t}`:t!=null&&t.startsWith("/")?x=`/api2${t}`:x=`/api2/media/productos/${t}`;const g=t!=null&&t.startsWith("http")?t:`${W}${x}`;return e.jsxs(e.Fragment,{children:[e.jsxs(q,{sx:{maxWidth:345,borderRadius:3,boxShadow:4,transition:"transform 0.2s, box-shadow 0.2s",backdropFilter:"blur(10px)",backgroundColor:"rgba(255, 255, 255, 0.2)","&:hover":{transform:"scale(1.03)"},p:2,overflow:"hidden",position:"relative"},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[m&&e.jsxs(C,{sx:{position:"absolute",top:10,left:10,bgcolor:"primary.main",color:"white",px:1,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:["ID: ",s]}),!i&&t?e.jsx(ee,{component:"img",height:"200",image:g,alt:r,onError:P,sx:{objectFit:"cover"}}):e.jsx(C,{sx:{height:200,bgcolor:"grey.300",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(E,{fontSize:"large",color:"disabled"})}),e.jsxs(te,{children:[e.jsx(y,{variant:"h6",noWrap:!0,children:r}),e.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:1},children:n||"Sin descripción disponible"}),e.jsx(y,{variant:"h5",color:"success.main",sx:{mb:2},children:Number(a).toLocaleString("es-ES",{style:"currency",currency:"CFA"})}),e.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1},children:[e.jsxs(C,{sx:{display:"flex",gap:1},children:[e.jsx(w,{title:u?"¡Copiado!":"Copiar ID",arrow:!0,children:e.jsx(T,{onClick:k,color:u?"success":"primary",children:e.jsx(ue,{})})}),e.jsx(w,{title:"Ver detalles",arrow:!0,children:e.jsx(T,{onClick:()=>j(!0),color:"primary",children:e.jsx(E,{})})})]}),e.jsx(w,{title:`Llamar a ${o.tiendaNumber}`,arrow:!0,children:e.jsx(v,{variant:"outlined",startIcon:e.jsx(K,{}),onClick:L,sx:{textTransform:"none"},children:c?"Llamar":"Contacto"})})]})]})]}),e.jsxs(Z,{open:S,onClose:()=>j(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(G,{children:r}),e.jsxs(J,{children:[e.jsx("img",{src:g,alt:r,style:{maxWidth:"100%",height:"auto",borderRadius:"8px",marginBottom:"16px"}}),e.jsx(le,{children:n||"Sin descripción disponible"})]}),e.jsxs(se,{children:[e.jsx(v,{onClick:()=>j(!1),children:"Cerrar"}),e.jsx(v,{onClick:U,color:"primary",variant:"contained",children:"Descargar imagen"})]})]})]})};pe.propTypes={id:p.oneOfType([p.string,p.number]).isRequired,nombre:p.string.isRequired,descripcion:p.string,precio:p.oneOfType([p.number,p.string]).isRequired,imagen:p.string};export{le as D,E as I,pe as P};
