import{g as $,a as z,r as c,u as N,j as o,s as U,f as F,h as L,A as j,Y as B,y as T,ae as V,z as u,ab as C,I as v,G as m}from"./index-C7bfEiFr.js";import{u as H}from"./useConfig-CN1-DwZd.js";import{D as q,a as A,b as O,c as G,P as r}from"./DialogTitle-KkI_10Mp.js";import{P as Q}from"./Phone-DiPd7tUT.js";import{a as Y,C as J,b as K}from"./CardMedia-BdpU_WlW.js";function X(e){return $("MuiDialogContentText",e)}z("MuiDialogContentText",["root"]);const Z=e=>{const{classes:s}=e,a=L({root:["root"]},X,s);return{...s,...a}},_=U(j,{shouldForwardProp:e=>B(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,s)=>s.root})({}),oo=c.forwardRef(function(s,d){const a=N({props:s,name:"MuiDialogContentText"}),{children:t,className:n,...p}=a,h=Z(p);return o.jsx(_,{component:"p",variant:"body1",color:"textSecondary",ref:d,ownerState:p,className:F(h.root,n),...a,classes:h})}),to=T(o.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),w=T(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),eo=({id:e,nombre:s,descripcion:d,precio:a,imagen:t})=>{var D;const{api:n}=H(),p=V("(max-width:600px)"),[h,I]=c.useState(!1),[S,y]=c.useState(!1),[b,g]=c.useState(!1),[R,x]=c.useState(!1),M=()=>{n.tiendaNumber?window.location.href=`tel:${n.tiendaNumber}`:console.error("Número de teléfono no configurado")},P=()=>{I(!0)},W=()=>{navigator.clipboard.writeText(e),g(!0),setTimeout(()=>g(!1),1500)},k=()=>{const l=document.createElement("a");l.href=f,l.download=(t==null?void 0:t.split("/").pop())||"producto.jpg",document.body.appendChild(l),l.click(),document.body.removeChild(l)},E=(D=n.baseURL)==null?void 0:D.replace(/\/$/,"");let i="";t!=null&&t.startsWith("http")?i=t:t!=null&&t.startsWith("/media")?i=`/api2${t}`:t!=null&&t.startsWith("/")?i=`/api2${t}`:i=`/api2/media/productos/${t}`;const f=t!=null&&t.startsWith("http")?t:`${E}${i}`;return o.jsxs(o.Fragment,{children:[o.jsxs(Y,{sx:{maxWidth:345,borderRadius:3,boxShadow:4,transition:"transform 0.2s, box-shadow 0.2s",backdropFilter:"blur(10px)",backgroundColor:"rgba(255, 255, 255, 0.2)","&:hover":{transform:"scale(1.03)"},p:2,overflow:"hidden",position:"relative"},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[S&&o.jsxs(u,{sx:{position:"absolute",top:10,left:10,bgcolor:"primary.main",color:"white",px:1,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:["ID: ",e]}),!h&&t?o.jsx(J,{component:"img",height:"200",image:f,alt:s,onError:P,sx:{objectFit:"cover"}}):o.jsx(u,{sx:{height:200,bgcolor:"grey.300",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(w,{fontSize:"large",color:"disabled"})}),o.jsxs(K,{children:[o.jsx(j,{variant:"h6",noWrap:!0,children:s}),o.jsx(j,{variant:"h5",color:"success.main",sx:{mb:2},children:Number(a).toLocaleString("es-ES",{style:"currency",currency:"CFA"})}),o.jsxs(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1},children:[o.jsxs(u,{sx:{display:"flex",gap:1},children:[o.jsx(C,{title:b?"¡Copiado!":"Copiar ID",arrow:!0,children:o.jsx(v,{onClick:W,color:b?"success":"primary",children:o.jsx(to,{})})}),o.jsx(C,{title:"Ver detalles",arrow:!0,children:o.jsx(v,{onClick:()=>x(!0),color:"primary",children:o.jsx(w,{})})})]}),o.jsx(C,{title:`Llamar a ${n.tiendaNumber}`,arrow:!0,children:o.jsx(m,{variant:"outlined",startIcon:o.jsx(Q,{}),onClick:M,sx:{textTransform:"none"},children:p?"Llamar":"Contacto"})})]})]})]}),o.jsxs(q,{open:R,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(A,{children:s}),o.jsxs(O,{children:[o.jsx("img",{src:f,alt:s,style:{maxWidth:"100%",height:"auto",borderRadius:"8px",marginBottom:"16px"}}),o.jsx(oo,{children:d||"Sin descripción disponible"})]}),o.jsxs(G,{children:[o.jsx(m,{onClick:()=>x(!1),children:"Cerrar"}),o.jsx(m,{onClick:k,color:"primary",variant:"contained",children:"Descargar imagen"})]})]})]})};eo.propTypes={id:r.oneOfType([r.string,r.number]).isRequired,nombre:r.string.isRequired,descripcion:r.string,precio:r.oneOfType([r.number,r.string]).isRequired,imagen:r.string};export{oo as D,w as I,eo as P};
